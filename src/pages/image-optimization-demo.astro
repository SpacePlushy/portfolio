---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
import ImageOptimizationDemo from '../components/ImageOptimizationDemo.astro';
import ImageCompressionDemo from '../components/ImageCompressionDemo.astro';
import VercelOptimizationExplained from '../components/VercelOptimizationExplained.astro';
import ProfileImage from '../components/ProfileImage.astro';
---

<Layout>
	<Navbar />
	<main class="container mx-auto px-4 py-16 max-w-4xl">
		<div class="space-y-12">
			<!-- Header -->
			<div class="text-center space-y-4">
				<h1 class="text-4xl font-bold">Image Optimization Demo</h1>
				<p class="text-xl text-muted-foreground">
					See how Vercel optimizes images with Astro SSR
				</p>
			</div>

			<!-- Live Example -->
			<div class="space-y-4">
				<h2 class="text-2xl font-semibold">Live Example: My Headshot</h2>
				<div class="flex items-center justify-center gap-8">
					<div class="text-center space-y-2">
						<ProfileImage className="w-32 h-32" />
						<p class="text-sm text-muted-foreground">Optimized Version</p>
					</div>
				</div>
			</div>

			<!-- How It Works -->
			<ImageOptimizationDemo />

			<!-- Compression Process -->
			<ImageCompressionDemo />

			<!-- Technical Details -->
			<VercelOptimizationExplained />

			<!-- Try It Yourself -->
			<div class="bg-muted/30 rounded-lg p-6 space-y-4">
				<h3 class="font-semibold text-lg">üõ†Ô∏è Try It Yourself</h3>
				<p class="text-muted-foreground">
					Open DevTools Network tab and reload this page. Look for image requests to 
					<code class="bg-muted px-2 py-1 rounded text-sm">/_vercel/image</code> 
					and notice:
				</p>
				<ul class="list-disc list-inside space-y-1 text-muted-foreground">
					<li>Different sizes loaded based on your screen</li>
					<li>AVIF format if your browser supports it</li>
					<li>Fast load times from Vercel's CDN</li>
					<li>Automatic caching headers</li>
				</ul>
			</div>

			<!-- Back to Portfolio -->
			<div class="text-center pt-8">
				<a href="/" class="text-primary hover:underline">
					‚Üê Back to Portfolio
				</a>
			</div>
		</div>
	</main>
</Layout>