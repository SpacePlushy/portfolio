---
import { Image } from 'astro:assets';
import frankHeadshot from '../assets/frank-headshot.png';

interface Props {
  className?: string;
  priority?: boolean;
}

const { className = "", priority = false } = Astro.props;
---

<div class={`relative overflow-hidden rounded-full ${className}`}>
  <Image 
    src={frankHeadshot}
    alt="Frank Palmisano - Software Engineer & Customer Service Expert"
    widths={[96, 192, 256, 384]}
    sizes="(max-width: 640px) 96px, (max-width: 768px) 128px, (max-width: 1024px) 192px, 256px"
    layout="constrained"
    width={256}
    height={256}
    quality="mid"
    formats={['avif', 'webp']}
    loading={priority ? "eager" : "lazy"}
    fetchpriority={priority ? "high" : "auto"}
    class="w-full h-full object-cover"
  />
</div>

<style>
  /* Vercel automatically handles:
   * - WebP conversion (smaller file size)
   * - Responsive sizing
   * - CDN delivery
   * - Cache headers
   */
</style>