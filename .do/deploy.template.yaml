spec:
  name: portfolio
  region: nyc
  services:
  - dockerfile_path: Dockerfile
    github:
      branch: build-fixes
      deploy_on_push: true
      repo: SpacePlushy/portfolio
    health_check:
      failure_threshold: 3
      http_path: /api/health
      initial_delay_seconds: 30
      period_seconds: 10
      success_threshold: 1
      timeout_seconds: 5
    http_port: 8080
    instance_count: 1
    instance_size_slug: basic-xxs
    name: web
    source_dir: /
    envs:
    - key: NODE_ENV
      scope: RUN_AND_BUILD_TIME
      value: production
    - key: PORT
      scope: RUN_TIME
      value: "8080"
    - key: HOST
      scope: RUN_TIME
      value: "0.0.0.0"
    - key: RATE_LIMIT_ENABLED
      scope: RUN_TIME
      value: "true"
    - key: BOT_DETECTION_ENABLED
      scope: RUN_TIME
      value: "true"